{{extend "layout.html"}}
<!-- Currently requires Ext20. To be replaced with main Ext3
<link rel="stylesheet" type="text/css" href="/{{=request.application}}/static/scripts/ext-2.2.1/resources/css/ext-all.css" />
<link rel="stylesheet" type="text/css" href="/{{=request.application}}/static/styles/S3/Ext.ux.UploadDialog.css" />
 -->
<H2>{{=T("Bulk Uploader")}}</H2>
<p>
{{=T("This screen allows you to upload a collection of photos to the server.")}}
</p>

<div id='file-uploader'>
</div>

<script type="text/javascript" src="/{{=request.application}}/static/scripts/S3/fileuploader.js"></script>
<script type="text/javascript">//<![CDATA[
var uploader = new qq.FileUploader({
    // pass the dom node (ex. $(selector)[0] for jQuery users)
    element: document.getElementById('file-uploader'),
    // path to server-side upload POST handler
    action: '{{=URL(r=request, f="upload_bulk")}}',
    onSubmit: function (id, fileName) {
        uploader.setParams({
            name: fileName 
        });
    }
});
//]]></script>

<!-- @ToDo: Allow adding metadata
Metadata Fields:
Field("url"),               INPUT
person_id(),                Autocomplete
organisation_id(),          Autocomplete
location_id(),              Read these automatically if possible from EXIF, HTML5 GeoLocation option?
Field("date", "date"),      Default to Today
comments(),                 Textbox
-->

<!-- @ToDo: Allow uploading an associated GPX Track -->
